a2fa3bef08046c3323c099faed085735
"use strict";

var _todoList = _interopRequireDefault(require("./todo-list.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @jest-environment jsdom
 */
document.body.innerHTML = `
 <section>
 <h1 class="main-heading">To Do List</h1>
 <div class="todo-container">
   <div class="todo-header">
     <h2 class="title">Today's To Do</h2>
     <span class="refresh material-icons">refresh</span>
   </div>
   <hr>
   <form name="taskForm" class="add-task-container">
     <input class="add-task-input" type="text" name="description" id="addTask" placeholder="Add to your list..." required>
     <span class="add-task-btn material-icons">keyboard_return</span>
   </form>
   <hr>
   <div class="main-tasks"></div>
   <div class="clear">
     <button type="button" class="clear-btn">Clear all completed</button>
   </div>
 </div>
 </section>
 `;
const task = new _todoList.default();
const taskOne = 'Task One';
const taskTwo = 'Task Two';
const taskThree = 'Task Three';
describe('check if add and delete task are using localStorage and the DOM', () => {
  test('should add a task to localStorage', () => {
    task.addTask(taskOne);
    task.addTask(taskTwo);
    expect(JSON.parse(localStorage.getItem('tasks'))).toEqual([{
      description: taskOne,
      completed: false,
      index: 1
    }, {
      description: taskTwo,
      completed: false,
      index: 2
    }]);
  });
  test('should add tasks to the DOM', () => {
    const addedItems = document.querySelectorAll('.tasks-container');
    expect(addedItems.length).toBe(2);
  });
  test('should remove task from localStorage', () => {
    task.deleteTask(1);
    expect(JSON.parse(localStorage.getItem('tasks'))).toHaveLength(1);
  });
  test('should remove task from the DOM', () => {
    const addedItems = document.querySelectorAll('.tasks-container');
    expect(addedItems.length).toBe(1);
  });
}); //new

describe('Check status, content updates and clear all completed tasks', () => {
  test('should check if status is changed', () => {
    task.updateStatus(1);
    expect(JSON.parse(localStorage.getItem('tasks'))).toEqual([{
      description: taskTwo,
      completed: true,
      index: 1
    }]);
  });
  test('should check if task is edited', () => {
    task.editTask(1, 'Task Two edited');
    expect(JSON.parse(localStorage.getItem('tasks'))).toEqual([{
      description: 'Task Two edited',
      completed: true,
      index: 1
    }]);
  });
  test('should check if task is edited in the DOM', () => {
    const inputDescription = document.querySelector('.description');
    expect(inputDescription.value).toEqual('Task Two edited');
  });
  test('check if all completed tasks are cleared', () => {
    task.addTask(taskThree);
    task.clearComplete();
    expect(JSON.parse(localStorage.getItem('tasks'))).toEqual([{
      description: taskThree,
      completed: false,
      index: 1
    }]);
  });
  test('check if all completed tasks are cleared in the DOM', () => {
    const remainingItems = document.querySelectorAll('.tasks-container');
    expect(remainingItems.length).toBe(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb2N1bWVudCIsImJvZHkiLCJpbm5lckhUTUwiLCJ0YXNrIiwiVGFzayIsInRhc2tPbmUiLCJ0YXNrVHdvIiwidGFza1RocmVlIiwiZGVzY3JpYmUiLCJ0ZXN0IiwiYWRkVGFzayIsImV4cGVjdCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ0b0VxdWFsIiwiZGVzY3JpcHRpb24iLCJjb21wbGV0ZWQiLCJpbmRleCIsImFkZGVkSXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwidG9CZSIsImRlbGV0ZVRhc2siLCJ0b0hhdmVMZW5ndGgiLCJ1cGRhdGVTdGF0dXMiLCJlZGl0VGFzayIsImlucHV0RGVzY3JpcHRpb24iLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJjbGVhckNvbXBsZXRlIiwicmVtYWluaW5nSXRlbXMiXSwic291cmNlcyI6WyJ0b2RvLWxpc3QudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQGplc3QtZW52aXJvbm1lbnQganNkb21cclxuICovXHJcblxyXG5pbXBvcnQgVGFzayBmcm9tICcuL3RvZG8tbGlzdC5qcyc7XHJcblxyXG5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGBcclxuIDxzZWN0aW9uPlxyXG4gPGgxIGNsYXNzPVwibWFpbi1oZWFkaW5nXCI+VG8gRG8gTGlzdDwvaDE+XHJcbiA8ZGl2IGNsYXNzPVwidG9kby1jb250YWluZXJcIj5cclxuICAgPGRpdiBjbGFzcz1cInRvZG8taGVhZGVyXCI+XHJcbiAgICAgPGgyIGNsYXNzPVwidGl0bGVcIj5Ub2RheSdzIFRvIERvPC9oMj5cclxuICAgICA8c3BhbiBjbGFzcz1cInJlZnJlc2ggbWF0ZXJpYWwtaWNvbnNcIj5yZWZyZXNoPC9zcGFuPlxyXG4gICA8L2Rpdj5cclxuICAgPGhyPlxyXG4gICA8Zm9ybSBuYW1lPVwidGFza0Zvcm1cIiBjbGFzcz1cImFkZC10YXNrLWNvbnRhaW5lclwiPlxyXG4gICAgIDxpbnB1dCBjbGFzcz1cImFkZC10YXNrLWlucHV0XCIgdHlwZT1cInRleHRcIiBuYW1lPVwiZGVzY3JpcHRpb25cIiBpZD1cImFkZFRhc2tcIiBwbGFjZWhvbGRlcj1cIkFkZCB0byB5b3VyIGxpc3QuLi5cIiByZXF1aXJlZD5cclxuICAgICA8c3BhbiBjbGFzcz1cImFkZC10YXNrLWJ0biBtYXRlcmlhbC1pY29uc1wiPmtleWJvYXJkX3JldHVybjwvc3Bhbj5cclxuICAgPC9mb3JtPlxyXG4gICA8aHI+XHJcbiAgIDxkaXYgY2xhc3M9XCJtYWluLXRhc2tzXCI+PC9kaXY+XHJcbiAgIDxkaXYgY2xhc3M9XCJjbGVhclwiPlxyXG4gICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xlYXItYnRuXCI+Q2xlYXIgYWxsIGNvbXBsZXRlZDwvYnV0dG9uPlxyXG4gICA8L2Rpdj5cclxuIDwvZGl2PlxyXG4gPC9zZWN0aW9uPlxyXG4gYDtcclxuXHJcbmNvbnN0IHRhc2sgPSBuZXcgVGFzaygpO1xyXG5cclxuY29uc3QgdGFza09uZSA9ICdUYXNrIE9uZSc7XHJcbmNvbnN0IHRhc2tUd28gPSAnVGFzayBUd28nO1xyXG5jb25zdCB0YXNrVGhyZWUgPSAnVGFzayBUaHJlZSc7XHJcblxyXG5kZXNjcmliZSgnY2hlY2sgaWYgYWRkIGFuZCBkZWxldGUgdGFzayBhcmUgdXNpbmcgbG9jYWxTdG9yYWdlIGFuZCB0aGUgRE9NJywgKCkgPT4ge1xyXG4gIHRlc3QoJ3Nob3VsZCBhZGQgYSB0YXNrIHRvIGxvY2FsU3RvcmFnZScsICgpID0+IHtcclxuICAgIHRhc2suYWRkVGFzayh0YXNrT25lKTtcclxuICAgIHRhc2suYWRkVGFzayh0YXNrVHdvKTtcclxuICAgIGV4cGVjdChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXNrcycpKSkudG9FcXVhbChbXHJcbiAgICAgIHsgZGVzY3JpcHRpb246IHRhc2tPbmUsIGNvbXBsZXRlZDogZmFsc2UsIGluZGV4OiAxIH0sXHJcbiAgICAgIHsgZGVzY3JpcHRpb246IHRhc2tUd28sIGNvbXBsZXRlZDogZmFsc2UsIGluZGV4OiAyIH0sXHJcbiAgICBdKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnc2hvdWxkIGFkZCB0YXNrcyB0byB0aGUgRE9NJywgKCkgPT4ge1xyXG4gICAgY29uc3QgYWRkZWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrcy1jb250YWluZXInKTtcclxuICAgIGV4cGVjdChhZGRlZEl0ZW1zLmxlbmd0aCkudG9CZSgyKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnc2hvdWxkIHJlbW92ZSB0YXNrIGZyb20gbG9jYWxTdG9yYWdlJywgKCkgPT4ge1xyXG4gICAgdGFzay5kZWxldGVUYXNrKDEpO1xyXG4gICAgZXhwZWN0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rhc2tzJykpKS50b0hhdmVMZW5ndGgoMSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ3Nob3VsZCByZW1vdmUgdGFzayBmcm9tIHRoZSBET00nLCAoKSA9PiB7XHJcbiAgICBjb25zdCBhZGRlZEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2tzLWNvbnRhaW5lcicpO1xyXG4gICAgZXhwZWN0KGFkZGVkSXRlbXMubGVuZ3RoKS50b0JlKDEpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vbmV3XHJcblxyXG5kZXNjcmliZSgnQ2hlY2sgc3RhdHVzLCBjb250ZW50IHVwZGF0ZXMgYW5kIGNsZWFyIGFsbCBjb21wbGV0ZWQgdGFza3MnLCAoKSA9PiB7XHJcbiAgdGVzdCgnc2hvdWxkIGNoZWNrIGlmIHN0YXR1cyBpcyBjaGFuZ2VkJywgKCkgPT4ge1xyXG4gICAgdGFzay51cGRhdGVTdGF0dXMoMSk7XHJcbiAgICBleHBlY3QoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFza3MnKSkpLnRvRXF1YWwoW3sgZGVzY3JpcHRpb246IHRhc2tUd28sIGNvbXBsZXRlZDogdHJ1ZSwgaW5kZXg6IDEgfV0pO1xyXG4gIH0pO1xyXG4gIHRlc3QoJ3Nob3VsZCBjaGVjayBpZiB0YXNrIGlzIGVkaXRlZCcsICgpID0+IHtcclxuICAgIHRhc2suZWRpdFRhc2soMSwgJ1Rhc2sgVHdvIGVkaXRlZCcpO1xyXG4gICAgZXhwZWN0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rhc2tzJykpKS50b0VxdWFsKFt7IGRlc2NyaXB0aW9uOiAnVGFzayBUd28gZWRpdGVkJywgY29tcGxldGVkOiB0cnVlLCBpbmRleDogMSB9XSk7XHJcbiAgfSk7XHJcbiAgdGVzdCgnc2hvdWxkIGNoZWNrIGlmIHRhc2sgaXMgZWRpdGVkIGluIHRoZSBET00nLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbnB1dERlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlc2NyaXB0aW9uJyk7XHJcbiAgICBleHBlY3QoaW5wdXREZXNjcmlwdGlvbi52YWx1ZSkudG9FcXVhbCgnVGFzayBUd28gZWRpdGVkJyk7XHJcbiAgfSk7XHJcbiAgdGVzdCgnY2hlY2sgaWYgYWxsIGNvbXBsZXRlZCB0YXNrcyBhcmUgY2xlYXJlZCcsICgpID0+IHtcclxuICAgIHRhc2suYWRkVGFzayh0YXNrVGhyZWUpO1xyXG4gICAgdGFzay5jbGVhckNvbXBsZXRlKCk7XHJcbiAgICBleHBlY3QoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFza3MnKSkpLnRvRXF1YWwoW3sgZGVzY3JpcHRpb246IHRhc2tUaHJlZSwgY29tcGxldGVkOiBmYWxzZSwgaW5kZXg6IDEgfV0pO1xyXG4gIH0pO1xyXG4gIHRlc3QoJ2NoZWNrIGlmIGFsbCBjb21wbGV0ZWQgdGFza3MgYXJlIGNsZWFyZWQgaW4gdGhlIERPTScsICgpID0+IHtcclxuICAgIGNvbnN0IHJlbWFpbmluZ0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2tzLWNvbnRhaW5lcicpO1xyXG4gICAgZXhwZWN0KHJlbWFpbmluZ0l0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